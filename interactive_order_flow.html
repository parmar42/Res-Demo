<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Interactive Order Flow Demo</title>
<style>
body{font-family:Arial;background:#f0f2f5;display:flex;justify-content:center;padding:20px}
.container{width:380px;background:#fff;border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
.item{display:flex;gap:10px;border:1px solid #eee;padding:8px;border-radius:8px;margin-bottom:10px}
.item img{width:120px;height:80px;object-fit:cover;border-radius:6px}
.btn{background:#25d366;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer;border:none}
.cart{position:fixed;right:20px;bottom:20px;background:#111;color:#fff;padding:10px 12px;border-radius:24px;cursor:pointer}
.header{text-align:center;margin-bottom:8px}
.small{font-size:13px;color:#666}
</style>
</head><body>
<div class="container">
  <h3 class="header">Island Eats – Menu</h3>

  <div id="menu">
    <div class="item" data-id="1" data-name="Grilled Chicken" data-price="18">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." alt="Grilled Chicken">
      <div>
        <strong>Grilled Chicken</strong><div class="small">Bajan spices, served with sides</div>
        <div style="margin-top:8px"><button class="btn" onclick="addToCart(1,18,'Grilled Chicken')">Add • $18</button></div>
      </div>
    </div>

    <div class="item" data-id="2" data-name="Bajan Fried Fish" data-price="25">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." alt="Fried Fish">
      <div>
        <strong>Bajan Fried Fish</strong><div class="small">Served with cou-cou or fries</div>
        <div style="margin-top:8px"><button class="btn" onclick="addToCart(2,25,'Bajan Fried Fish')">Add • $25</button></div>
      </div>
    </div>

    <div class="item" data-id="3" data-name="Creamy Pasta" data-price="16">
      <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..." alt="Pasta">
      <div>
        <strong>Creamy Pasta</strong><div class="small">Garlic, cream, parmesan</div>
        <div style="margin-top:8px"><button class="btn" onclick="addToCart(3,16,'Creamy Pasta')">Add • $16</button></div>
      </div>
    </div>
  </div>

  <hr>
  <div id="cartArea"><em>Your cart is empty</em></div>
</div>

<div class="cart" onclick="openCart()">View Cart</div>

<script>
/* NOTE: Replace the "data:image/jpeg;base64,..." image sources with actual base64 images
   or normal image URLs. The placeholders here keep the HTML compact in this message. */

let menu = {1:{name:'Grilled Chicken',price:18},2:{name:'Bajan Fried Fish',price:25},3:{name:'Creamy Pasta',price:16}};
let cart = {};

function addToCart(id, price, name){
  if(!cart[id]) cart[id]=0;
  cart[id]++;
  renderCartInline();
  alert(name + " added to cart");
}

function renderCartInline(){
  const area = document.getElementById('cartArea');
  let html='';
  let total=0;
  for(const id in cart){
    const qty = cart[id];
    const price = menu[id].price;
    total += qty*price;
    html += `${menu[id].name} × ${qty} — $${qty*price}<br>`;
  }
  if(html==='') html = '<em>Your cart is empty</em>';
  else html += `<div style="margin-top:8px"><strong>Total: $${total}</strong> <button class="btn" onclick="openCart()">Checkout</button></div>`;
  area.innerHTML = html;
}

function openCart(){
  const items = Object.keys(cart);
  if(items.length===0){ alert('Cart empty'); return; }
  let summary = 'Your order:\\n\\n';
  let total=0;
  for(const id of items){
    summary += menu[id].name + ' × ' + cart[id] + '\\n';
    total += cart[id]*menu[id].price;
  }
  summary += '\\nTotal: $' + total + '\\n\\nProceed to payment?';
  if(confirm(summary)) {
    const pay = prompt('Choose payment: 1) WiPay  2) Card  3) Cash (enter 1/2/3)');
    if(pay===null) return;
    if(pay==='1' || pay==='2'){ alert('Simulating online payment...\\nPayment successful. Order confirmed.'); }
    else { alert('Order confirmed as Cash on Delivery.'); }
    alert('Order sent to kitchen (simulated). Thank you!');
    cart = {};
    renderCartInline();
  }
}
</script>
</body></html>
